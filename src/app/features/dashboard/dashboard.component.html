<div class="dashboard-page">
  <!-- Page Header -->
  <div class="page-header">
    <div class="header-content">
      <div class="title-section">
        <h1>
          <mat-icon>dashboard</mat-icon>
          Dashboard
        </h1>
        <p class="subtitle">Welcome back! Here's your clinic overview</p>
      </div>

      <div class="header-actions">
        <button 
          mat-icon-button
          (click)="refresh()"
          matTooltip="Refresh">
          <mat-icon>refresh</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <!-- Loading Bar -->
  @if (loading()) {
    <mat-progress-bar mode="indeterminate" class="loading-bar"></mat-progress-bar>
  }

  <!-- Stats Grid -->
  <div class="stats-grid">
    <!-- Total Patients Card -->
    <mat-card class="stat-card patients-card" (click)="navigateTo('/patients')">
      <mat-card-content>
        <div class="stat-icon patients-icon">
          <mat-icon>people</mat-icon>
        </div>
        <div class="stat-details">
          <h3>{{ totalPatients() }}</h3>
          <p>Total Patients</p>
          <div class="stat-footer">
            <span class="stat-badge success">
              <mat-icon>arrow_upward</mat-icon>
              {{ newPatientsThisMonth() }} new this month
            </span>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Total Doctors Card -->
    <mat-card class="stat-card doctors-card" (click)="navigateTo('/doctors')">
      <mat-card-content>
        <div class="stat-icon doctors-icon">
          <mat-icon>medical_services</mat-icon>
        </div>
        <div class="stat-details">
          <h3>{{ totalDoctors() }}</h3>
          <p>Total Doctors</p>
          <div class="stat-footer">
            <span class="stat-badge info">
              <mat-icon>verified</mat-icon>
              All specialists
            </span>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Total Appointments Card -->
    <mat-card class="stat-card appointments-card" (click)="navigateTo('/appointments')">
      <mat-card-content>
        <div class="stat-icon appointments-icon">
          <mat-icon>calendar_today</mat-icon>
        </div>
        <div class="stat-details">
          <h3>{{ totalAppointments() }}</h3>
          <p>Total Appointments</p>
          <div class="stat-footer">
            <span class="stat-badge warning">
              <mat-icon>schedule</mat-icon>
              {{ todayAppointments() }} today
            </span>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

  </div>

  <!-- Quick Actions -->
  <div class="quick-actions">
    <h2 class="section-title">Quick Actions</h2>
    <div class="actions-grid">
      <mat-card class="action-card" (click)="navigateTo('/patients')">
        <mat-icon>people</mat-icon>
        <h3>Manage Patients</h3>
        <p>View and manage patient records</p>
      </mat-card>

      <mat-card class="action-card" (click)="navigateTo('/appointments')">
        <mat-icon>calendar_month</mat-icon>
        <h3>Appointments</h3>
        <p>Schedule and manage appointments</p>
      </mat-card>

      <mat-card class="action-card" (click)="navigateTo('/doctors')">
        <mat-icon>medical_services</mat-icon>
        <h3>Doctors</h3>
        <p>View doctor profiles and schedules</p>
      </mat-card>

      <mat-card class="action-card">
        <mat-icon>analytics</mat-icon>
        <h3>Reports</h3>
        <p>Generate clinic reports and analytics</p>
      </mat-card>
    </div>
  </div>
</div>
